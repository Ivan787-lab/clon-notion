(()=>{"use strict";var e=[{name:"Дмитрий",status:3,price:56480,confidence:98,month:"Июнь",number:12,year:2015,priority:!0,tel:74642005646,email:"iamjs@gmail.com"},{name:"Саша",status:5,price:96320,confidence:53,month:"Апрель",number:30,year:2018,priority:!1,tel:79463024659,email:"ihatejs@gmail.com"},{name:"Иван",status:1,price:987e3,confidence:86,month:"Декабрь",number:31,year:2006,priority:!0,tel:79623106556,email:"ilikejs@gmail.com"}];function n(){for(var n=0;n<e.length;n++){var t=document.createElement("tbody");t.classList.add("table__todo-tbody");var a=document.createElement("td");a.classList.add("name"),a.innerHTML='<i class="far fa-file-alt"></i> <span class="name-span">'.concat(e[n].name,"</span>");var r=document.createElement("td");1==e[n].status?r.innerHTML='<span class="status-span">Закрыт</span>':2==e[n].status?r.innerHTML='<span class="status-span">Ведется</span>':3==e[n].status?r.innerHTML='<span class="status-span">Планируется</span>':4==e[n].status?r.innerHTML='<span class="status-span">Связался</span>':5==e[n].status&&(r.innerHTML='<span class="status-span">Потерянный</span>');var c=document.createElement("td");c.classList.add("price"),c.innerHTML='$<span class="price-span">'.concat(e[n].price,"</span>");var s=document.createElement("td");s.classList.add("confidence"),s.innerHTML="".concat(e[n].confidence,"%");var i=document.createElement("td"),o=['<span class="month">'.concat(e[n].month,"</span>"),'<span class="number">'.concat(e[n].number,"</span>"),'<span class="year">'.concat(e[n].year,"</span>")],l=o[0],u=o[1],d=o[2];i.innerHTML+="".concat(l," ").concat(u,", ").concat(d);var m=document.createElement("td");e[n].priority?m.innerHTML='<input class="check-priority" disabled checked type="checkbox">':m.innerHTML='<input class="check-priority" disabled type="checkbox">';var p=document.createElement("td"),y=document.createElement("a");y.setAttribute("href","tel: ".concat(e[n].tel)),y.innerHTML="+".concat(e[n].tel),y.classList.add("tel"),p.append(y);var L=document.createElement("td");L.classList.add("email"),L.innerHTML="".concat(e[n].email),t.append(a,r,c,s,i,m,p,L),document.querySelector("table").append(t);var f=document.querySelectorAll(".status-span");Array.from(f).map((function(e){"Ведется"==e.innerHTML?e.style.background="#e1cee4":"Связался"==e.innerHTML?e.style.background="#d3d6e8":"Планируется"==e.innerHTML?(e.style.background="#d6eff8",e.innerHTML+='<img src="assets/eyes.png">'):"Закрыт"==e.innerHTML?(e.style.background="#d1e7e5",e.innerHTML+='<img src="assets/biceps.png">'):"Потерянный"==e.innerHTML&&(e.style.background="#f0f0f0")}))}document.querySelector("#counts").innerHTML=e.length;for(var H=document.querySelectorAll(".price-span"),T=0,M=0;M<H.length;M++)T+=Number(H[M].innerHTML);document.querySelector("#sum").innerHTML=T+"$"}document.querySelector(".sort-variants__make").addEventListener("click",(function(){!function(e){try{var n=document.querySelector('input[name = "variant"]:checked').nextElementSibling.innerHTML.toLowerCase()}catch(e){}"имени"==n?e.sort((function(e,n){return e.name>n.name?1:e.name<n.name?-1:0})):"статусу"==n?e.sort((function(e,n){return e.status>n.status?1:e.status<n.status?-1:0})):"оценочной стоимости"==n?e.sort((function(e,n){return e.price<n.price?1:e.price>n.price?-1:0})):"доверию"==n?e.sort((function(e,n){return e.confidence<n.confidence?1:e.confidence>n.confidence?-1:0})):"приориету"==n&&e.sort((function(e,n){return e.priority<n.priority?1:e.priority>n.priority?-1:0}))}(e),function(){for(var e=document.querySelector("table").querySelectorAll("tbody"),n=0;n<e.length;n++)e[n].remove()}(),n()}));var t,a,r,c,s,i,o;n(),t="#sort",a="Сортировка",r=".table-container__sort-variants",c="350px",s=!1,i=document.querySelector(t),o=!1,i.addEventListener("click",(function(){o?(i.innerHTML=a,o=!1,document.querySelector(r).style.maxHeight=null):(i.innerHTML+=" по",o=!0,document.querySelector(r).style.maxHeight=c,s&&(document.querySelector(r).style.marginTop="15px",document.querySelector(r).style.overflow="auto"))}))})();